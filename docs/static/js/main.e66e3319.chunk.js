(this["webpackJsonprolls-react"]=this["webpackJsonprolls-react"]||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/logo.98f4a23e.svg"},18:function(e){e.exports=JSON.parse('[{"id":1,"title":"\u0424\u0438\u043b\u0430\u0434\u0435\u043b\u044c\u0444\u0438\u044f \u0445\u0438\u0442 \u0440\u043e\u043b\u043b","total":6,"weight":180,"price":300,"img":"https://static.pizzasushiwok.ru/images/menu_new/828-1300.jpg","counter":1},{"id":2,"title":"\u041a\u0430\u043b\u0438\u0444\u043e\u0440\u043d\u0438\u044f \u0442\u0435\u043c\u043f\u0443\u0440\u0430","total":7,"weight":205,"price":250,"img":"https://static.pizzasushiwok.ru/images/menu_new/851-1300.jpg","counter":1},{"id":3,"title":"\u0417\u0430\u043f\u0435\u0447\u0435\u043d\u044b\u0439 \u0440\u043e\u043b\u043b \xab\u041a\u0430\u043b\u0438\u0444\u043e\u0440\u043d\u0438\u044f\xbb","total":10,"weight":182,"price":230,"img":"https://static.pizzasushiwok.ru/images/menu_new/825-1300.jpg","counter":1},{"id":4,"title":"\u0424\u0438\u043b\u0430\u0434\u0435\u043b\u044c\u0444\u0438\u044f","total":4,"weight":230,"price":320,"img":"https://static.pizzasushiwok.ru/images/menu_new/676-1300.jpg","counter":1}]')},23:function(e,t,a){e.exports=a(36)},28:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(6),l=a.n(c),i=(a(28),a(29),a(15)),s=a.n(i),m=function(){return n.a.createElement("header",{className:"header"},n.a.createElement("div",{className:"container text-center"},n.a.createElement("img",{src:s.a,width:"92",alt:"\u0421\u0443\u0448\u0438 \u0438 \u043f\u0438\u0446\u0446\u0430"}),n.a.createElement("div",{className:"display-4"},"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0440\u043e\u043b\u043b\u043e\u0432"),n.a.createElement("p",{className:"lead"},"\u041e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e \u0438 \u0432\u043a\u0443\u0441\u043d\u043e")))},o=a(2),u=a(12),d=a.n(u),p=a(17),E=a(18),f=new Promise((function(e,t){setTimeout((function(){e(E)}),1e3)})),N=Object(o.b)(null,{increaseRoll:function(e){return function(t){t({type:"INCREASE_ROLL",payload:e})}},decreaseRoll:function(e){return function(t){t({type:"DECREASE_ROLL",payload:e})}},addToCart:function(e){return function(t){t({type:"ADD_TO_CART",payload:e})}}})((function(e){var t=e.item,a=e.increaseRoll,r=e.decreaseRoll,c=e.addToCart,l=t.id,i=t.title,s=t.total,m=t.weight,o=t.price,u=t.img,d=t.counter;return n.a.createElement("div",{className:"col-md-6 parent"},n.a.createElement("div",{className:"card mb-4"},n.a.createElement("img",{className:"product-img",src:u,alt:i}),n.a.createElement("div",{className:"card-body text-center"},n.a.createElement("h4",{className:"item-title"},i),n.a.createElement("p",null,n.a.createElement("small",{className:"text-muted"},s-d," \u0448\u0442.")),n.a.createElement("div",{className:"details-wrapper"},n.a.createElement("div",{className:"items"},n.a.createElement("div",{className:"items__control",onClick:function(){return r(l)}},"-"),n.a.createElement("div",{className:"items__current"},d),n.a.createElement("div",{className:"items__control",onClick:function(){return a(l)}},"+")),n.a.createElement("div",{className:"price"},n.a.createElement("div",{className:"price__weight"},m*d,"\u0433."),n.a.createElement("div",{className:"price__currency"},o*d," \u20bd"))),n.a.createElement("button",{onClick:function(){return c(t)},type:"button",className:"btn btn-cart btn-block btn-outline-warning"},"+ \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"))))})),b=a(3),v=function(e){return e.rolls},_=Object(b.a)([v],(function(e){return e.rollItems})),g=Object(b.a)([v],(function(e){return e.loading})),h=a(8),O=a.n(h),y=function(){return n.a.createElement("div",{className:"loader"},"Loading...")},R=Object(b.b)({rollItems:_,loading:g});N.propTypes={getRolls:O.a.func};var j=Object(o.b)(R,{getRolls:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.then((function(e){t({type:"GET_ROLLS",payload:e})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getRolls,a=e.rollItems,c=e.loading;return Object(r.useEffect)((function(){t()}),[t]),n.a.createElement("div",{className:"col-md-8"},n.a.createElement("div",{className:"row"},c?n.a.createElement(y,null):a.map((function(e){return n.a.createElement(N,{key:e.id,item:e})}))))})),w=Object(o.b)(null,{increaseFromCart:function(e){return function(t){t({type:"INCREASE_FROM_CART",payload:e})}},decreaseFromCart:function(e){return function(t){t({type:"DECREASE_FROM_CART",payload:e})}}})((function(e){var t=e.item,a=e.increaseFromCart,r=e.decreaseFromCart,c=t.id,l=t.title,i=t.total,s=t.weight,m=t.price,o=t.img,u=t.counter;return n.a.createElement("div",{className:"cart-item parent"},n.a.createElement("div",{className:"cart-item__top"},n.a.createElement("div",{className:"cart-item__img"},n.a.createElement("img",{src:o,alt:"roll"})),n.a.createElement("div",{className:"cart-item__desc"},n.a.createElement("div",{className:"cart-item__title"},l),n.a.createElement("span",null,n.a.createElement("small",{className:"text-muted"},i-u," \u0448\u0442.")),n.a.createElement("span",{className:"cart-item__weight price__weight"},"/ ",s*u,"\u0433."),n.a.createElement("div",{className:"cart-item__details"},n.a.createElement("div",{className:"items items--small"},n.a.createElement("div",{onClick:function(){return r(c)},className:"items__control"},"-"),n.a.createElement("div",{className:"items__current"},u),n.a.createElement("div",{onClick:function(){return a(c)},className:"items__control"},"+")),n.a.createElement("div",{className:"price"},n.a.createElement("div",{className:"price__currency"},m*u," \u20bd"))))))})),C=a(13),I=a(19),A=a.n(I),T=Object(o.b)((function(e){return{cart:e.cart.cartItems}}),{clearCart:function(){return function(e){e({type:"CLEAR_CART"})}}})((function(e){var t=e.cart,a=e.clearCart,c=Object(r.useState)(""),l=Object(C.a)(c,2),i=l[0],s=l[1],m=Object(r.useState)(!0),o=Object(C.a)(m,2),u=o[0],d=o[1];return n.a.createElement("div",{className:"card-body border-top"},n.a.createElement("h5",{className:"card-title"},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),0!==i.length?u&&(alert("\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),console.log(t),s(""),a()):d(!1)}},n.a.createElement("div",{className:"form-group"},u?null:n.a.createElement("p",{className:"label_error"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430!"),n.a.createElement("input",{type:"text",className:A()("form-control",{error:!u}),placeholder:"\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",onChange:function(e){s(e.target.value);var t=/^\+?\d{2}[- ]?\d{3}[- ]?\d{5}$/.test(i);d(t)},value:i})),n.a.createElement("button",{type:"submit",id:"checkout",className:"btn btn-primary"},"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c")))})),k=Object(b.a)([function(e){return e.cart}],(function(e){return e.cartItems})),S=Object(b.a)([k],(function(e){return e.reduce((function(e,t){return e+t.counter*t.price}),0)})),L=Object(b.b)({cartItems:k,total:S}),x=Object(o.b)(L)((function(e){var t=e.cartItems,a=e.total,r=0===t.length,c=n.a.createElement("div",{className:"card mb-4",id:"empty_cart"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437"),n.a.createElement("div",{className:"alert alert-secondary",role:"alert"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"))),l=n.a.createElement("div",{className:"card cart_full-wrap"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437"),n.a.createElement("div",{className:"cart-wrapper full-cart-wrap",id:"full_cart"},r?null:t.map((function(e){return n.a.createElement(w,{key:e.id,item:e})}))),n.a.createElement("div",{className:"cart-total"},n.a.createElement("p",null,n.a.createElement("span",{className:"h5"},"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430:")," ",n.a.createElement("span",{className:"delivery-cost free"},"\u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e")," "),n.a.createElement("p",null,n.a.createElement("span",{className:"h5"},"\u0418\u0442\u043e\u0433\u043e:")," ",n.a.createElement("span",{className:"total-price"},a)," ",n.a.createElement("span",{className:"rouble"},"\u20bd")))),n.a.createElement(T,null));return r?c:l})),D=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(m,null),n.a.createElement("div",{className:"container mb-5"},n.a.createElement("div",{className:"row"},n.a.createElement(j,null),n.a.createElement("div",{className:"col-md-4"},n.a.createElement(x,null)))))},F=a(4),z=a(20),M=a(21),J=a(1),G=function(e,t){return e.map((function(e){return e.id===t&&e.counter<e.total?Object(J.a)({},e,{counter:e.counter+1}):e}))},B=function(e,t){return e.map((function(e){return e.id===t&&e.counter>1?Object(J.a)({},e,{counter:e.counter-1}):e}))},P={rollItems:[],loading:!0},W=a(22),$=function(e,t){return-1===e.findIndex((function(e){return e.id===t.id}))?[].concat(Object(W.a)(e),[t]):e.map((function(e){return e.id===t.id?t:e}))},q=function(e,t){return 1===e.find((function(e){return e.id===t})).counter?function(e,t){return e.filter((function(e){return e.id!==t}))}(e,t):e.map((function(e){return e.id===t&&e.counter>1?Object(J.a)({},e,{counter:e.counter-1}):e}))},H={cartItems:[]},K=Object(F.combineReducers)({rolls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"GET_ROLLS":return Object(J.a)({},e,{rollItems:r,loading:!1});case"INCREASE_ROLL":return Object(J.a)({},e,{rollItems:G(e.rollItems,r)});case"DECREASE_ROLL":return Object(J.a)({},e,{rollItems:B(e.rollItems,r)});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"ADD_TO_CART":return Object(J.a)({},e,{cartItems:$(e.cartItems,r)});case"INCREASE_FROM_CART":return Object(J.a)({},e,{cartItems:G(e.cartItems,r)});case"DECREASE_FROM_CART":return Object(J.a)({},e,{cartItems:q(e.cartItems,r)});case"CLEAR_CART":return Object(J.a)({},e,{cartItems:[]});default:return e}}}),Q=[M.a],U=Object(F.createStore)(K,{},Object(z.composeWithDevTools)(F.applyMiddleware.apply(void 0,Q)));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(o.a,{store:U},n.a.createElement(D,null))),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.e66e3319.chunk.js.map